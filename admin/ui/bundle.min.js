!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var timeout=setTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var currentQueue,process=module.exports={},queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],2:[function(require,module,exports){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function bindActions(actions,dispatch){return"function"==typeof actions?actions(dispatch):"object"===("undefined"==typeof actions?"undefined":_typeof(actions))?Object.keys(actions).reduce(function(out,key){return"function"==typeof actions[key]?out[key]=function(){for(var _len2=arguments.length,factoryArgs=Array(_len2),_key2=0;_len2>_key2;_key2++)factoryArgs[_key2]=arguments[_key2];return function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_len3>_key3;_key3++)args[_key3]=arguments[_key3];return dispatch(actions[key].apply(actions,factoryArgs.concat(args)))}}:"object"===_typeof(actions[key])&&(out[key]=actions[key]),out},{}):{}}function wrapView(comp,actionMap){var originalView=comp.view;comp.view=function(ctrl){for(var _len4=arguments.length,args=Array(_len4>1?_len4-1:0),_key4=1;_len4>_key4;_key4++)args[_key4-1]=arguments[_key4];var nc=_extends({},ctrl,actionMap);return originalView.apply(void 0,[nc].concat(args))}}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var Provider=function(){function Provider(){_classCallCheck(this,Provider)}return _createClass(Provider,[{key:"init",value:function(m,store){if(!m||!store||!store.getState)throw new Error("Mithril and Redux store are required");return this.m=m,this.store=store,this}}]),Provider}(),Malatium=new Provider,isArray=exports.isArray=function(arr){return"[object Array]"===Object.prototype.toString.call(arr)},isFunction=exports.isFunction=function(fn){return"function"==typeof fn},isObject=exports.isObject=function(obj){return obj===Object(obj)},isComponent=exports.isComponent=function(component){return isObject(component)&&isFunction(component.view)},nestComponents=exports.nestComponents=function(){for(var _len=arguments.length,components=Array(_len),_key=0;_len>_key;_key++)components[_key]=arguments[_key];return components.reduce(function(out,component){return out===!1?Malatium.m.component(component):Malatium.m.component(component,{},out)},!1)},lazyInit=(exports.identity=function(x){return x},exports.lazyInit=function(component){return isFunction(component)?new component:component}),special=(exports.connect=function(selector,actions,mergeProps){return function(Component){return{view:function(controller,props,children){var _Malatium$store=Malatium.store,dispatch=_Malatium$store.dispatch,getState=_Malatium$store.getState,state=selector(getState()),component=lazyInit(Component),actionMap=bindActions(actions,dispatch);return wrapView(component,actionMap),Malatium.m.component(component,_extends({},props,{dispatch:dispatch},state,actionMap,mergeProps),children)}}}},exports.redrawMiddleware=function(){return function(next){return function(action){next(action),action.redraw&&Malatium.m&&Malatium.m.redraw&&Malatium.m.redraw()}}},["$container","$alias","$default"]),trimRightSlash=function(str){return str.replace(/\/$/,"")},flattenRoutes=exports.flattenRoutes=function flattenRoutes(routes){for(var _len5=arguments.length,parents=Array(_len5>3?_len5-3:0),_key5=3;_len5>_key5;_key5++)parents[_key5-3]=arguments[_key5];var obj=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],prefix=arguments.length<=2||void 0===arguments[2]?"":arguments[2];if(isFunction(routes)&&(routes=routes()),isComponent(routes))return obj[trimRightSlash(prefix)]=nestComponents.apply(void 0,[routes].concat(_toConsumableArray(parents))),routes;if(!isObject(routes))throw new Error("routes needs to be an object, or function that returns an object");if(routes.hasOwnProperty("$container")){var $container=isFunction(routes.$container)?routes.$container():routes.$container;parents=[$container].concat(_toConsumableArray(parents))}return Object.keys(routes).forEach(function(key){if(!(special.indexOf(key)>-1)){var value=routes[key];if(isFunction(value)&&(value=value()),isArray(value))throw new Error("not set up to handle arrays");if(isComponent(value))return obj[trimRightSlash(prefix+key)]=nestComponents.apply(void 0,[value].concat(_toConsumableArray(parents)));if(isObject(value))return flattenRoutes.apply(void 0,[value,obj,prefix+key].concat(_toConsumableArray(parents)));throw new Error("type not handled")}}),routes.hasOwnProperty("$default")&&flattenRoutes.apply(void 0,[routes.$default,obj,prefix+"/:stub..."].concat(_toConsumableArray(parents))),obj};Malatium.route=function(DOMElement,defaultRoute,routes,mode){return mode&&(Malatium.m.route.mode=mode),Malatium.m.route(DOMElement,defaultRoute,flattenRoutes(routes))},exports.default=Malatium},{}],3:[function(require,module){var m=function app(window,undefined){function initialize(window){$document=window.document,$location=window.location,$cancelAnimationFrame=window.cancelAnimationFrame||window.clearTimeout,$requestAnimationFrame=window.requestAnimationFrame||window.setTimeout}function m(){var match,args=[].slice.call(arguments),hasAttrs=!(null==args[1]||type.call(args[1])!==OBJECT||"tag"in args[1]||"view"in args[1]||"subtree"in args[1]),attrs=hasAttrs?args[1]:{},classAttrName="class"in attrs?"class":"className",cell={tag:"div",attrs:{}},classes=[];if(type.call(args[0])!=STRING)throw new Error("selector in m(selector, attrs, children) should be a string");for(;match=parser.exec(args[0]);)if(""===match[1]&&match[2])cell.tag=match[2];else if("#"===match[1])cell.attrs.id=match[2];else if("."===match[1])classes.push(match[2]);else if("["===match[3][0]){var pair=attrParser.exec(match[3]);cell.attrs[pair[1]]=pair[3]||(pair[2]?"":!0)}var children=args.slice(hasAttrs?2:1);cell.children=1===children.length&&type.call(children[0])===ARRAY?children[0]:children;for(var attrName in attrs)attrs.hasOwnProperty(attrName)&&(attrName===classAttrName&&null!=attrs[attrName]&&""!==attrs[attrName]?(classes.push(attrs[attrName]),cell.attrs[attrName]=""):cell.attrs[attrName]=attrs[attrName]);return classes.length>0&&(cell.attrs[classAttrName]=classes.join(" ")),cell}function build(parentElement,parentTag,parentCache,parentIndex,data,cached,shouldReattach,index,editable,namespace,configs){try{(null==data||null==data.toString())&&(data="")}catch(e){data=""}if("retain"===data.subtree)return cached;var cachedType=type.call(cached),dataType=type.call(data);if(null==cached||cachedType!==dataType){if(null!=cached)if(parentCache&&parentCache.nodes){var offset=index-parentIndex,end=offset+(dataType===ARRAY?data:cached.nodes).length;clear(parentCache.nodes.slice(offset,end),parentCache.slice(offset,end))}else cached.nodes&&clear(cached.nodes,cached);cached=new data.constructor,cached.tag&&(cached={}),cached.nodes=[]}if(dataType===ARRAY){for(var i=0,len=data.length;len>i;i++)type.call(data[i])===ARRAY&&(data=data.concat.apply([],data),i--,len=data.length);for(var nodes=[],intact=cached.length===data.length,subArrayCount=0,DELETION=1,INSERTION=2,MOVE=3,existing={},shouldMaintainIdentities=!1,i=0;i<cached.length;i++)cached[i]&&cached[i].attrs&&null!=cached[i].attrs.key&&(shouldMaintainIdentities=!0,existing[cached[i].attrs.key]={action:DELETION,index:i});for(var guid=0,i=0,len=data.length;len>i;i++)if(data[i]&&data[i].attrs&&null!=data[i].attrs.key){for(var j=0,len=data.length;len>j;j++)data[j]&&data[j].attrs&&null==data[j].attrs.key&&(data[j].attrs.key="__mithril__"+guid++);break}if(shouldMaintainIdentities){var keysDiffer=!1;if(data.length!=cached.length)keysDiffer=!0;else for(var cachedCell,dataCell,i=0;cachedCell=cached[i],dataCell=data[i];i++)if(cachedCell.attrs&&dataCell.attrs&&cachedCell.attrs.key!=dataCell.attrs.key){keysDiffer=!0;break}if(keysDiffer){for(var i=0,len=data.length;len>i;i++)if(data[i]&&data[i].attrs&&null!=data[i].attrs.key){var key=data[i].attrs.key;existing[key]=existing[key]?{action:MOVE,index:i,from:existing[key].index,element:cached.nodes[existing[key].index]||$document.createElement("div")}:{action:INSERTION,index:i}}var actions=[];for(var prop in existing)actions.push(existing[prop]);var changes=actions.sort(sortChanges),newCached=new Array(cached.length);newCached.nodes=cached.nodes.slice();for(var change,i=0;change=changes[i];i++){if(change.action===DELETION&&(clear(cached[change.index].nodes,cached[change.index]),newCached.splice(change.index,1)),change.action===INSERTION){var dummy=$document.createElement("div");dummy.key=data[change.index].attrs.key,parentElement.insertBefore(dummy,parentElement.childNodes[change.index]||null),newCached.splice(change.index,0,{attrs:{key:data[change.index].attrs.key},nodes:[dummy]}),newCached.nodes[change.index]=dummy}change.action===MOVE&&(parentElement.childNodes[change.index]!==change.element&&null!==change.element&&parentElement.insertBefore(change.element,parentElement.childNodes[change.index]||null),newCached[change.index]=cached[change.from],newCached.nodes[change.index]=change.element)}cached=newCached}}for(var i=0,cacheCount=0,len=data.length;len>i;i++){var item=build(parentElement,parentTag,cached,index,data[i],cached[cacheCount],shouldReattach,index+subArrayCount||subArrayCount,editable,namespace,configs);item!==undefined&&(item.nodes.intact||(intact=!1),subArrayCount+=item.$trusted?(item.match(/<[^\/]|\>\s*[^<]/g)||[0]).length:type.call(item)===ARRAY?item.length:1,cached[cacheCount++]=item)}if(!intact){for(var i=0,len=data.length;len>i;i++)null!=cached[i]&&nodes.push.apply(nodes,cached[i].nodes);for(var node,i=0;node=cached.nodes[i];i++)null!=node.parentNode&&nodes.indexOf(node)<0&&clear([node],[cached[i]]);data.length<cached.length&&(cached.length=data.length),cached.nodes=nodes}}else if(null!=data&&dataType===OBJECT){for(var views=[],controllers=[];data.view;){var view=data.view.$original||data.view,controllerIndex="diff"==m.redraw.strategy()&&cached.views?cached.views.indexOf(view):-1,controller=controllerIndex>-1?cached.controllers[controllerIndex]:new(data.controller||noop),key=data&&data.attrs&&data.attrs.key;if(data=0==pendingRequests||cached&&cached.controllers&&cached.controllers.indexOf(controller)>-1?data.view(controller):{tag:"placeholder"},"retain"===data.subtree)return cached;key&&(data.attrs||(data.attrs={}),data.attrs.key=key),controller.onunload&&unloaders.push({controller:controller,handler:controller.onunload}),views.push(view),controllers.push(controller)}if(!data.tag&&controllers.length)throw new Error("Component template must return a virtual element, not an array, string, etc.");data.attrs||(data.attrs={}),cached.attrs||(cached.attrs={});var dataAttrKeys=Object.keys(data.attrs),hasKeys=dataAttrKeys.length>("key"in data.attrs?1:0);if((data.tag!=cached.tag||dataAttrKeys.sort().join()!=Object.keys(cached.attrs).sort().join()||data.attrs.id!=cached.attrs.id||data.attrs.key!=cached.attrs.key||"all"==m.redraw.strategy()&&(!cached.configContext||cached.configContext.retain!==!0)||"diff"==m.redraw.strategy()&&cached.configContext&&cached.configContext.retain===!1)&&(cached.nodes.length&&clear(cached.nodes),cached.configContext&&typeof cached.configContext.onunload===FUNCTION&&cached.configContext.onunload(),cached.controllers))for(var controller,i=0;controller=cached.controllers[i];i++)typeof controller.onunload===FUNCTION&&controller.onunload({preventDefault:noop});if(type.call(data.tag)!=STRING)return;var node,isNew=0===cached.nodes.length;if(data.attrs.xmlns?namespace=data.attrs.xmlns:"svg"===data.tag?namespace="http://www.w3.org/2000/svg":"math"===data.tag&&(namespace="http://www.w3.org/1998/Math/MathML"),isNew){if(node=data.attrs.is?namespace===undefined?$document.createElement(data.tag,data.attrs.is):$document.createElementNS(namespace,data.tag,data.attrs.is):namespace===undefined?$document.createElement(data.tag):$document.createElementNS(namespace,data.tag),cached={tag:data.tag,attrs:hasKeys?setAttributes(node,data.tag,data.attrs,{},namespace):data.attrs,children:null!=data.children&&data.children.length>0?build(node,data.tag,undefined,undefined,data.children,cached.children,!0,0,data.attrs.contenteditable?node:editable,namespace,configs):data.children,nodes:[node]},controllers.length){cached.views=views,cached.controllers=controllers;for(var controller,i=0;controller=controllers[i];i++)if(controller.onunload&&controller.onunload.$old&&(controller.onunload=controller.onunload.$old),pendingRequests&&controller.onunload){var onunload=controller.onunload;controller.onunload=noop,controller.onunload.$old=onunload}}cached.children&&!cached.children.nodes&&(cached.children.nodes=[]),"select"===data.tag&&"value"in data.attrs&&setAttributes(node,data.tag,{value:data.attrs.value},{},namespace),parentElement.insertBefore(node,parentElement.childNodes[index]||null)}else node=cached.nodes[0],hasKeys&&setAttributes(node,data.tag,data.attrs,cached.attrs,namespace),cached.children=build(node,data.tag,undefined,undefined,data.children,cached.children,!1,0,data.attrs.contenteditable?node:editable,namespace,configs),cached.nodes.intact=!0,controllers.length&&(cached.views=views,cached.controllers=controllers),shouldReattach===!0&&null!=node&&parentElement.insertBefore(node,parentElement.childNodes[index]||null);if(typeof data.attrs.config===FUNCTION){var context=cached.configContext=cached.configContext||{},callback=function(data,args){return function(){return data.attrs.config.apply(data,args)}};configs.push(callback(data,[node,!isNew,context,cached]))}}else if(typeof data!=FUNCTION){var nodes;0===cached.nodes.length?(data.$trusted?nodes=injectHTML(parentElement,index,data):(nodes=[$document.createTextNode(data)],parentElement.nodeName.match(voidElements)||parentElement.insertBefore(nodes[0],parentElement.childNodes[index]||null)),cached="string number boolean".indexOf(typeof data)>-1?new data.constructor(data):data,cached.nodes=nodes):cached.valueOf()!==data.valueOf()||shouldReattach===!0?(nodes=cached.nodes,editable&&editable===$document.activeElement||(data.$trusted?(clear(nodes,cached),nodes=injectHTML(parentElement,index,data)):"textarea"===parentTag?parentElement.value=data:editable?editable.innerHTML=data:((1===nodes[0].nodeType||nodes.length>1)&&(clear(cached.nodes,cached),nodes=[$document.createTextNode(data)]),parentElement.insertBefore(nodes[0],parentElement.childNodes[index]||null),nodes[0].nodeValue=data)),cached=new data.constructor(data),cached.nodes=nodes):cached.nodes.intact=!0}return cached}function sortChanges(a,b){return a.action-b.action||a.index-b.index}function setAttributes(node,tag,dataAttrs,cachedAttrs,namespace){for(var attrName in dataAttrs){var dataAttr=dataAttrs[attrName],cachedAttr=cachedAttrs[attrName];if(attrName in cachedAttrs&&cachedAttr===dataAttr)"value"===attrName&&"input"===tag&&node.value!=dataAttr&&(node.value=dataAttr);else{cachedAttrs[attrName]=dataAttr;try{if("config"===attrName||"key"==attrName)continue;if(typeof dataAttr===FUNCTION&&0===attrName.indexOf("on"))node[attrName]=autoredraw(dataAttr,node);else if("style"===attrName&&null!=dataAttr&&type.call(dataAttr)===OBJECT){for(var rule in dataAttr)(null==cachedAttr||cachedAttr[rule]!==dataAttr[rule])&&(node.style[rule]=dataAttr[rule]);for(var rule in cachedAttr)rule in dataAttr||(node.style[rule]="")}else null!=namespace?"href"===attrName?node.setAttributeNS("http://www.w3.org/1999/xlink","href",dataAttr):"className"===attrName?node.setAttribute("class",dataAttr):node.setAttribute(attrName,dataAttr):attrName in node&&"list"!==attrName&&"style"!==attrName&&"form"!==attrName&&"type"!==attrName&&"width"!==attrName&&"height"!==attrName?("input"!==tag||node[attrName]!==dataAttr)&&(node[attrName]=dataAttr):node.setAttribute(attrName,dataAttr)}catch(e){if(e.message.indexOf("Invalid argument")<0)throw e}}}return cachedAttrs}function clear(nodes,cached){for(var i=nodes.length-1;i>-1;i--)if(nodes[i]&&nodes[i].parentNode){try{nodes[i].parentNode.removeChild(nodes[i])}catch(e){}cached=[].concat(cached),cached[i]&&unload(cached[i])}0!=nodes.length&&(nodes.length=0)}function unload(cached){if(cached.configContext&&typeof cached.configContext.onunload===FUNCTION&&(cached.configContext.onunload(),cached.configContext.onunload=null),cached.controllers)for(var controller,i=0;controller=cached.controllers[i];i++)typeof controller.onunload===FUNCTION&&controller.onunload({preventDefault:noop});if(cached.children)if(type.call(cached.children)===ARRAY)for(var child,i=0;child=cached.children[i];i++)unload(child);else cached.children.tag&&unload(cached.children)}function injectHTML(parentElement,index,data){var nextSibling=parentElement.childNodes[index];if(nextSibling){var isElement=1!=nextSibling.nodeType,placeholder=$document.createElement("span");isElement?(parentElement.insertBefore(placeholder,nextSibling||null),placeholder.insertAdjacentHTML("beforebegin",data),parentElement.removeChild(placeholder)):nextSibling.insertAdjacentHTML("beforebegin",data)}else parentElement.insertAdjacentHTML("beforeend",data);for(var nodes=[];parentElement.childNodes[index]!==nextSibling;)nodes.push(parentElement.childNodes[index]),index++;return nodes}function autoredraw(callback,object){return function(e){e=e||event,m.redraw.strategy("diff"),m.startComputation();try{return callback.call(object,e)}finally{endFirstComputation()}}}function getCellCacheKey(element){var index=nodeCache.indexOf(element);return 0>index?nodeCache.push(element)-1:index}function gettersetter(store){var prop=function(){return arguments.length&&(store=arguments[0]),store};return prop.toJSON=function(){return store},prop}function parameterize(component,args){var controller=function(){return(component.controller||noop).apply(this,args)||this},view=function(ctrl){return arguments.length>1&&(args=args.concat([].slice.call(arguments,1))),component.view.apply(component,args?[ctrl].concat(args):[ctrl])};view.$original=component.view;var output={controller:controller,view:view};return args[0]&&null!=args[0].key&&(output.attrs={key:args[0].key}),output}function redraw(){computePreRedrawHook&&(computePreRedrawHook(),computePreRedrawHook=null);for(var root,i=0;root=roots[i];i++)if(controllers[i]){var args=components[i].controller&&components[i].controller.$$args?[controllers[i]].concat(components[i].controller.$$args):[controllers[i]];m.render(root,components[i].view?components[i].view(controllers[i],args):"")}computePostRedrawHook&&(computePostRedrawHook(),computePostRedrawHook=null),lastRedrawId=null,lastRedrawCallTime=new Date,m.redraw.strategy("diff")}function normalizeRoute(route){return route.slice(modes[m.route.mode].length)}function routeByValue(root,router,path){routeParams={};var queryStart=path.indexOf("?");-1!==queryStart&&(routeParams=parseQueryString(path.substr(queryStart+1,path.length)),path=path.substr(0,queryStart));var keys=Object.keys(router),index=keys.indexOf(path);if(-1!==index)return m.mount(root,router[keys[index]]),!0;for(var route in router){if(route===path)return m.mount(root,router[route]),!0;var matcher=new RegExp("^"+route.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(matcher.test(path))return path.replace(matcher,function(){for(var keys=route.match(/:[^\/]+/g)||[],values=[].slice.call(arguments,1,-2),i=0,len=keys.length;len>i;i++)routeParams[keys[i].replace(/:|\./g,"")]=decodeURIComponent(values[i]);m.mount(root,router[route])}),!0}}function routeUnobtrusive(e){if(e=e||event,!e.ctrlKey&&!e.metaKey&&2!==e.which){e.preventDefault?e.preventDefault():e.returnValue=!1;for(var currentTarget=e.currentTarget||e.srcElement,args="pathname"===m.route.mode&&currentTarget.search?parseQueryString(currentTarget.search.slice(1)):{};currentTarget&&"A"!=currentTarget.nodeName.toUpperCase();)currentTarget=currentTarget.parentNode;m.route(currentTarget[m.route.mode].slice(modes[m.route.mode].length),args)}}function setScroll(){"hash"!=m.route.mode&&$location.hash?$location.hash=$location.hash:window.scrollTo(0,0)}function buildQueryString(object,prefix){var duplicates={},str=[];for(var prop in object){var key=prefix?prefix+"["+prop+"]":prop,value=object[prop],valueType=type.call(value),pair=null===value?encodeURIComponent(key):valueType===OBJECT?buildQueryString(value,key):valueType===ARRAY?value.reduce(function(memo,item){return duplicates[key]||(duplicates[key]={}),duplicates[key][item]?memo:(duplicates[key][item]=!0,memo.concat(encodeURIComponent(key)+"="+encodeURIComponent(item)))},[]).join("&"):encodeURIComponent(key)+"="+encodeURIComponent(value);value!==undefined&&str.push(pair)}return str.join("&")}function parseQueryString(str){"?"===str.charAt(0)&&(str=str.substring(1));for(var pairs=str.split("&"),params={},i=0,len=pairs.length;len>i;i++){var pair=pairs[i].split("="),key=decodeURIComponent(pair[0]),value=2==pair.length?decodeURIComponent(pair[1]):null;null!=params[key]?(type.call(params[key])!==ARRAY&&(params[key]=[params[key]]),params[key].push(value)):params[key]=value}return params}function reset(root){var cacheKey=getCellCacheKey(root);clear(root.childNodes,cellCache[cacheKey]),cellCache[cacheKey]=undefined}function propify(promise,initialValue){var prop=m.prop(initialValue);return promise.then(prop),prop.then=function(resolve,reject){return propify(promise.then(resolve,reject),initialValue)},prop}function Deferred(successCallback,failureCallback){function finish(type){state=type||REJECTED,next.map(function(deferred){state===RESOLVED&&deferred.resolve(promiseValue)||deferred.reject(promiseValue)})}function thennable(then,successCallback,failureCallback,notThennableCallback){if((null!=promiseValue&&type.call(promiseValue)===OBJECT||typeof promiseValue===FUNCTION)&&typeof then===FUNCTION)try{var count=0;then.call(promiseValue,function(value){count++||(promiseValue=value,successCallback())},function(value){count++||(promiseValue=value,failureCallback())})}catch(e){m.deferred.onerror(e),promiseValue=e,failureCallback()}else notThennableCallback()}function fire(){var then;try{then=promiseValue&&promiseValue.then}catch(e){return m.deferred.onerror(e),promiseValue=e,state=REJECTING,fire()}thennable(then,function(){state=RESOLVING,fire()},function(){state=REJECTING,fire()},function(){try{state===RESOLVING&&typeof successCallback===FUNCTION?promiseValue=successCallback(promiseValue):state===REJECTING&&"function"==typeof failureCallback&&(promiseValue=failureCallback(promiseValue),state=RESOLVING)}catch(e){return m.deferred.onerror(e),promiseValue=e,finish()}promiseValue===self?(promiseValue=TypeError(),finish()):thennable(then,function(){finish(RESOLVED)},finish,function(){finish(state===RESOLVING&&RESOLVED)})})}var RESOLVING=1,REJECTING=2,RESOLVED=3,REJECTED=4,self=this,state=0,promiseValue=0,next=[];self.promise={},self.resolve=function(value){return state||(promiseValue=value,state=RESOLVING,fire()),this},self.reject=function(value){return state||(promiseValue=value,state=REJECTING,fire()),this},self.promise.then=function(successCallback,failureCallback){var deferred=new Deferred(successCallback,failureCallback);return state===RESOLVED?deferred.resolve(promiseValue):state===REJECTED?deferred.reject(promiseValue):next.push(deferred),deferred.promise}}function identity(value){return value}function ajax(options){if(!options.dataType||"jsonp"!==options.dataType.toLowerCase()){var xhr=new window.XMLHttpRequest;if(xhr.open(options.method,options.url,!0,options.user,options.password),xhr.onreadystatechange=function(){4===xhr.readyState&&(xhr.status>=200&&xhr.status<300?options.onload({type:"load",target:xhr}):options.onerror({type:"error",target:xhr}))},options.serialize===JSON.stringify&&options.data&&"GET"!==options.method&&xhr.setRequestHeader("Content-Type","application/json; charset=utf-8"),options.deserialize===JSON.parse&&xhr.setRequestHeader("Accept","application/json, text/*"),typeof options.config===FUNCTION){var maybeXhr=options.config(xhr,options);null!=maybeXhr&&(xhr=maybeXhr)}var data="GET"!==options.method&&options.data?options.data:"";if(data&&type.call(data)!=STRING&&data.constructor!=window.FormData)throw"Request data should be either be a string or FormData. Check the `serialize` option in `m.request`";return xhr.send(data),xhr}var callbackKey="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),script=$document.createElement("script");window[callbackKey]=function(resp){script.parentNode.removeChild(script),options.onload({type:"load",target:{responseText:resp}}),window[callbackKey]=undefined},script.onerror=function(){return script.parentNode.removeChild(script),options.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),window[callbackKey]=undefined,!1},script.onload=function(){return!1},script.src=options.url+(options.url.indexOf("?")>0?"&":"?")+(options.callbackKey?options.callbackKey:"callback")+"="+callbackKey+"&"+buildQueryString(options.data||{}),$document.body.appendChild(script)}function bindData(xhrOptions,data,serialize){if("GET"===xhrOptions.method&&"jsonp"!=xhrOptions.dataType){var prefix=xhrOptions.url.indexOf("?")<0?"?":"&",querystring=buildQueryString(data);xhrOptions.url=xhrOptions.url+(querystring?prefix+querystring:"")}else xhrOptions.data=serialize(data);return xhrOptions}function parameterizeUrl(url,data){var tokens=url.match(/:[a-z]\w+/gi);if(tokens&&data)for(var i=0;i<tokens.length;i++){var key=tokens[i].slice(1);url=url.replace(tokens[i],data[key]),delete data[key]}return url}var $document,$location,$requestAnimationFrame,$cancelAnimationFrame,OBJECT="[object Object]",ARRAY="[object Array]",STRING="[object String]",FUNCTION="function",type={}.toString,parser=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,attrParser=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,voidElements=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/,noop=function(){};initialize(window);var html,documentNode={appendChild:function(node){html===undefined&&(html=$document.createElement("html")),$document.documentElement&&$document.documentElement!==node?$document.replaceChild(node,$document.documentElement):$document.appendChild(node),this.childNodes=$document.childNodes},insertBefore:function(node){this.appendChild(node)},childNodes:[]},nodeCache=[],cellCache={};m.render=function(root,cell,forceRecreation){var configs=[];if(!root)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var id=getCellCacheKey(root),isDocumentRoot=root===$document,node=isDocumentRoot||root===$document.documentElement?documentNode:root;isDocumentRoot&&"html"!=cell.tag&&(cell={tag:"html",attrs:{},children:cell}),cellCache[id]===undefined&&clear(node.childNodes),forceRecreation===!0&&reset(root),cellCache[id]=build(node,null,undefined,undefined,cell,cellCache[id],!1,0,null,undefined,configs);for(var i=0,len=configs.length;len>i;i++)configs[i]()},m.trust=function(value){return value=new String(value),value.$trusted=!0,value},m.prop=function(store){return(null!=store&&type.call(store)===OBJECT||typeof store===FUNCTION)&&typeof store.then===FUNCTION?propify(store):gettersetter(store)};var topComponent,roots=[],components=[],controllers=[],lastRedrawId=null,lastRedrawCallTime=0,computePreRedrawHook=null,computePostRedrawHook=null,unloaders=[],FRAME_BUDGET=16;m.component=function(component){return parameterize(component,[].slice.call(arguments,1))},m.mount=m.module=function(root,component){if(!root)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var index=roots.indexOf(root);0>index&&(index=roots.length);for(var unloader,isPrevented=!1,event={preventDefault:function(){isPrevented=!0,computePreRedrawHook=computePostRedrawHook=null}},i=0;unloader=unloaders[i];i++)unloader.handler.call(unloader.controller,event),unloader.controller.onunload=null;if(isPrevented)for(var unloader,i=0;unloader=unloaders[i];i++)unloader.controller.onunload=unloader.handler;else unloaders=[];if(controllers[index]&&typeof controllers[index].onunload===FUNCTION&&controllers[index].onunload(event),!isPrevented){m.redraw.strategy("all"),m.startComputation(),roots[index]=root,arguments.length>2&&(component=subcomponent(component,[].slice.call(arguments,2)));var currentComponent=topComponent=component=component||{controller:function(){}},constructor=component.controller||noop,controller=new constructor;return currentComponent===topComponent&&(controllers[index]=controller,components[index]=component),endFirstComputation(),controllers[index]}};var redrawing=!1;m.redraw=function(force){redrawing||(redrawing=!0,lastRedrawId&&force!==!0?($requestAnimationFrame===window.requestAnimationFrame||new Date-lastRedrawCallTime>FRAME_BUDGET)&&(lastRedrawId>0&&$cancelAnimationFrame(lastRedrawId),lastRedrawId=$requestAnimationFrame(redraw,FRAME_BUDGET)):(redraw(),lastRedrawId=$requestAnimationFrame(function(){lastRedrawId=null},FRAME_BUDGET)),redrawing=!1)},m.redraw.strategy=m.prop();var pendingRequests=0;m.startComputation=function(){pendingRequests++},m.endComputation=function(){pendingRequests=Math.max(pendingRequests-1,0),0===pendingRequests&&m.redraw()};var endFirstComputation=function(){"none"==m.redraw.strategy()?(pendingRequests--,m.redraw.strategy("diff")):m.endComputation()};m.withAttr=function(prop,withAttrCallback){
return function(e){e=e||event;var currentTarget=e.currentTarget||this;withAttrCallback(prop in currentTarget?currentTarget[prop]:currentTarget.getAttribute(prop))}};var routeParams,currentRoute,modes={pathname:"",hash:"#",search:"?"},redirect=noop,isDefaultRoute=!1;return m.route=function(){if(0===arguments.length)return currentRoute;if(3===arguments.length&&type.call(arguments[1])===STRING){var root=arguments[0],defaultRoute=arguments[1],router=arguments[2];redirect=function(source){var path=currentRoute=normalizeRoute(source);if(!routeByValue(root,router,path)){if(isDefaultRoute)throw new Error("Ensure the default route matches one of the routes defined in m.route");isDefaultRoute=!0,m.route(defaultRoute,!0),isDefaultRoute=!1}};var listener="hash"===m.route.mode?"onhashchange":"onpopstate";window[listener]=function(){var path=$location[m.route.mode];"pathname"===m.route.mode&&(path+=$location.search),currentRoute!=normalizeRoute(path)&&redirect(path)},computePreRedrawHook=setScroll,window[listener]()}else if(arguments[0].addEventListener||arguments[0].attachEvent){var element=arguments[0],vdom=(arguments[1],arguments[2],arguments[3]);element.href=("pathname"!==m.route.mode?$location.pathname:"")+modes[m.route.mode]+vdom.attrs.href,element.addEventListener?(element.removeEventListener("click",routeUnobtrusive),element.addEventListener("click",routeUnobtrusive)):(element.detachEvent("onclick",routeUnobtrusive),element.attachEvent("onclick",routeUnobtrusive))}else if(type.call(arguments[0])===STRING){var oldRoute=currentRoute;currentRoute=arguments[0];var args=arguments[1]||{},queryIndex=currentRoute.indexOf("?"),params=queryIndex>-1?parseQueryString(currentRoute.slice(queryIndex+1)):{};for(var i in args)params[i]=args[i];var querystring=buildQueryString(params),currentPath=queryIndex>-1?currentRoute.slice(0,queryIndex):currentRoute;querystring&&(currentRoute=currentPath+(-1===currentPath.indexOf("?")?"?":"&")+querystring);var shouldReplaceHistoryEntry=(3===arguments.length?arguments[2]:arguments[1])===!0||oldRoute===arguments[0];window.history.pushState?(computePreRedrawHook=setScroll,computePostRedrawHook=function(){window.history[shouldReplaceHistoryEntry?"replaceState":"pushState"](null,$document.title,modes[m.route.mode]+currentRoute)},redirect(modes[m.route.mode]+currentRoute)):($location[m.route.mode]=currentRoute,redirect(modes[m.route.mode]+currentRoute))}},m.route.param=function(key){if(!routeParams)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return routeParams[key]},m.route.mode="search",m.route.buildQueryString=buildQueryString,m.route.parseQueryString=parseQueryString,m.deferred=function(){var deferred=new Deferred;return deferred.promise=propify(deferred.promise),deferred},m.deferred.onerror=function(e){if("[object Error]"===type.call(e)&&!e.constructor.toString().match(/ Error/))throw e},m.sync=function(args){function synchronizer(pos,resolved){return function(value){return results[pos]=value,resolved||(method="reject"),0===--outstanding&&(deferred.promise(results),deferred[method](results)),value}}var method="resolve",deferred=m.deferred(),outstanding=args.length,results=new Array(outstanding);if(args.length>0)for(var i=0;i<args.length;i++)args[i].then(synchronizer(i,!0),synchronizer(i,!1));else deferred.resolve([]);return deferred.promise},m.request=function(xhrOptions){xhrOptions.background!==!0&&m.startComputation();var deferred=new Deferred,isJSONP=xhrOptions.dataType&&"jsonp"===xhrOptions.dataType.toLowerCase(),serialize=xhrOptions.serialize=isJSONP?identity:xhrOptions.serialize||JSON.stringify,deserialize=xhrOptions.deserialize=isJSONP?identity:xhrOptions.deserialize||JSON.parse,extract=isJSONP?function(jsonp){return jsonp.responseText}:xhrOptions.extract||function(xhr){return 0===xhr.responseText.length&&deserialize===JSON.parse?null:xhr.responseText};return xhrOptions.method=(xhrOptions.method||"GET").toUpperCase(),xhrOptions.url=parameterizeUrl(xhrOptions.url,xhrOptions.data),xhrOptions=bindData(xhrOptions,xhrOptions.data,serialize),xhrOptions.onload=xhrOptions.onerror=function(e){try{e=e||event;var unwrap=("load"===e.type?xhrOptions.unwrapSuccess:xhrOptions.unwrapError)||identity,response=unwrap(deserialize(extract(e.target,xhrOptions)),e.target);if("load"===e.type)if(type.call(response)===ARRAY&&xhrOptions.type)for(var i=0;i<response.length;i++)response[i]=new xhrOptions.type(response[i]);else xhrOptions.type&&(response=new xhrOptions.type(response));deferred["load"===e.type?"resolve":"reject"](response)}catch(e){m.deferred.onerror(e),deferred.reject(e)}xhrOptions.background!==!0&&m.endComputation()},ajax(xhrOptions),deferred.promise=propify(deferred.promise,xhrOptions.initialValue),deferred.promise},m.deps=function(mock){return initialize(window=mock||window),window},m.deps.factory=app,m}("undefined"!=typeof window?window:{});"undefined"!=typeof module&&null!==module&&module.exports?module.exports=m:"function"==typeof define&&define.amd&&define(function(){return m})},{}],4:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function createStore(reducer,initialState){function getState(){return currentState}function subscribe(listener){return listeners.push(listener),function(){var index=listeners.indexOf(listener);listeners.splice(index,1)}}function dispatch(action){if(!_utilsIsPlainObject2.default(action))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(isDispatching)throw new Error("Reducers may not dispatch actions.");try{isDispatching=!0,currentState=currentReducer(currentState,action)}finally{isDispatching=!1}return listeners.slice().forEach(function(listener){return listener()}),action}function replaceReducer(nextReducer){currentReducer=nextReducer,dispatch({type:ActionTypes.INIT})}if("function"!=typeof reducer)throw new Error("Expected the reducer to be a function.");var currentReducer=reducer,currentState=initialState,listeners=[],isDispatching=!1;return dispatch({type:ActionTypes.INIT}),{dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:replaceReducer}}exports.__esModule=!0,exports.default=createStore;var _utilsIsPlainObject=require("./utils/isPlainObject"),_utilsIsPlainObject2=_interopRequireDefault(_utilsIsPlainObject),ActionTypes={INIT:"@@redux/INIT"};exports.ActionTypes=ActionTypes},{"./utils/isPlainObject":10}],5:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0;var _createStore=require("./createStore"),_createStore2=_interopRequireDefault(_createStore),_utilsCombineReducers=require("./utils/combineReducers"),_utilsCombineReducers2=_interopRequireDefault(_utilsCombineReducers),_utilsBindActionCreators=require("./utils/bindActionCreators"),_utilsBindActionCreators2=_interopRequireDefault(_utilsBindActionCreators),_utilsApplyMiddleware=require("./utils/applyMiddleware"),_utilsApplyMiddleware2=_interopRequireDefault(_utilsApplyMiddleware),_utilsCompose=require("./utils/compose"),_utilsCompose2=_interopRequireDefault(_utilsCompose);exports.createStore=_createStore2.default,exports.combineReducers=_utilsCombineReducers2.default,exports.bindActionCreators=_utilsBindActionCreators2.default,exports.applyMiddleware=_utilsApplyMiddleware2.default,exports.compose=_utilsCompose2.default},{"./createStore":4,"./utils/applyMiddleware":6,"./utils/bindActionCreators":7,"./utils/combineReducers":8,"./utils/compose":9}],6:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function applyMiddleware(){for(var _len=arguments.length,middlewares=Array(_len),_key=0;_len>_key;_key++)middlewares[_key]=arguments[_key];return function(next){return function(reducer,initialState){var store=next(reducer,initialState),_dispatch=store.dispatch,chain=[],middlewareAPI={getState:store.getState,dispatch:function(action){return _dispatch(action)}};return chain=middlewares.map(function(middleware){return middleware(middlewareAPI)}),_dispatch=_compose2.default.apply(void 0,chain)(store.dispatch),_extends({},store,{dispatch:_dispatch})}}}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.default=applyMiddleware;var _compose=require("./compose"),_compose2=_interopRequireDefault(_compose);module.exports=exports.default},{"./compose":9}],7:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function bindActionCreator(actionCreator,dispatch){return function(){return dispatch(actionCreator.apply(void 0,arguments))}}function bindActionCreators(actionCreators,dispatch){if("function"==typeof actionCreators)return bindActionCreator(actionCreators,dispatch);if("object"!=typeof actionCreators||null==actionCreators)throw new Error("bindActionCreators expected an object or a function, instead received "+typeof actionCreators+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');return _utilsMapValues2.default(actionCreators,function(actionCreator){return bindActionCreator(actionCreator,dispatch)})}exports.__esModule=!0,exports.default=bindActionCreators;var _utilsMapValues=require("../utils/mapValues"),_utilsMapValues2=_interopRequireDefault(_utilsMapValues);module.exports=exports.default},{"../utils/mapValues":11}],8:[function(require,module,exports){(function(process){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getErrorMessage(key,action){var actionType=action&&action.type,actionName=actionType&&'"'+actionType.toString()+'"'||"an action";return'Reducer "'+key+'" returned undefined handling '+actionName+". To ignore an action, you must explicitly return the previous state."}function verifyStateShape(initialState,currentState){var reducerKeys=Object.keys(currentState);if(0===reducerKeys.length)return void console.error("Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.");if(!_utilsIsPlainObject2.default(initialState))return void console.error('initialState has unexpected type of "'+{}.toString.call(initialState).match(/\s([a-z|A-Z]+)/)[1]+'". Expected initialState to be an object with the following '+('keys: "'+reducerKeys.join('", "')+'"'));var unexpectedKeys=Object.keys(initialState).filter(function(key){return reducerKeys.indexOf(key)<0});unexpectedKeys.length>0&&console.error("Unexpected "+(unexpectedKeys.length>1?"keys":"key")+" "+('"'+unexpectedKeys.join('", "')+'" in initialState will be ignored. ')+('Expected to find one of the known reducer keys instead: "'+reducerKeys.join('", "')+'"'))}function combineReducers(reducers){var finalReducers=_utilsPick2.default(reducers,function(val){return"function"==typeof val});Object.keys(finalReducers).forEach(function(key){var reducer=finalReducers[key];if("undefined"==typeof reducer(void 0,{type:_createStore.ActionTypes.INIT}))throw new Error('Reducer "'+key+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var type=Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof reducer(void 0,{type:type}))throw new Error('Reducer "'+key+'" returned undefined when probed with a random type. '+("Don't try to handle "+_createStore.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")});var stateShapeVerified,defaultState=_utilsMapValues2.default(finalReducers,function(){return void 0});return function(state,action){void 0===state&&(state=defaultState);var finalState=_utilsMapValues2.default(finalReducers,function(reducer,key){var newState=reducer(state[key],action);if("undefined"==typeof newState)throw new Error(getErrorMessage(key,action));return newState});return"production"!==process.env.NODE_ENV&&(stateShapeVerified||(verifyStateShape(state,finalState),stateShapeVerified=!0)),finalState}}exports.__esModule=!0,exports.default=combineReducers;var _createStore=require("../createStore"),_utilsIsPlainObject=require("../utils/isPlainObject"),_utilsIsPlainObject2=_interopRequireDefault(_utilsIsPlainObject),_utilsMapValues=require("../utils/mapValues"),_utilsMapValues2=_interopRequireDefault(_utilsMapValues),_utilsPick=require("../utils/pick"),_utilsPick2=_interopRequireDefault(_utilsPick);module.exports=exports.default}).call(this,require("_process"))},{"../createStore":4,"../utils/isPlainObject":10,"../utils/mapValues":11,"../utils/pick":12,_process:1}],9:[function(require,module,exports){"use strict";function compose(){for(var _len=arguments.length,funcs=Array(_len),_key=0;_len>_key;_key++)funcs[_key]=arguments[_key];return function(arg){return funcs.reduceRight(function(composed,f){return f(composed)},arg)}}exports.__esModule=!0,exports.default=compose,module.exports=exports.default},{}],10:[function(require,module,exports){"use strict";function isPlainObject(obj){if(!obj||"object"!=typeof obj)return!1;var proto="function"==typeof obj.constructor?Object.getPrototypeOf(obj):Object.prototype;if(null===proto)return!0;var constructor=proto.constructor;return"function"==typeof constructor&&constructor instanceof constructor&&fnToString(constructor)===fnToString(Object)}exports.__esModule=!0,exports.default=isPlainObject;var fnToString=function(fn){return Function.prototype.toString.call(fn)};module.exports=exports.default},{}],11:[function(require,module,exports){"use strict";function mapValues(obj,fn){return Object.keys(obj).reduce(function(result,key){return result[key]=fn(obj[key],key),result},{})}exports.__esModule=!0,exports.default=mapValues,module.exports=exports.default},{}],12:[function(require,module,exports){"use strict";function pick(obj,fn){return Object.keys(obj).reduce(function(result,key){return fn(obj[key])&&(result[key]=obj[key]),result},{})}exports.__esModule=!0,exports.default=pick,module.exports=exports.default},{}],13:[function(require,module,exports){"use strict";function setSideBar(data){return{type:SET_SIDE_BAR,data:data}}function openFileToEdit(_ref){var filename=_ref.filename,content=_ref.content;return{type:EDIT_FILE,filename:filename,content:content}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setSideBar=setSideBar,exports.openFileToEdit=openFileToEdit;var SET_SIDE_BAR=exports.SET_SIDE_BAR="SET_SIDE_BAR",EDIT_FILE=exports.EDIT_FILE="EDIT_FILE"},{}],14:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_header=require("./header-footer/header"),_header2=_interopRequireDefault(_header),_footer=require("./header-footer/footer"),App=(_interopRequireDefault(_footer),function(){function App(){_classCallCheck(this,App)}return _createClass(App,[{key:"view",value:function(ctrl,props,children){return _mithril2.default("#app",_header2.default,children)}}]),App}());exports.default=new App},{"./header-footer/footer":16,"./header-footer/header":17,mithril:3}],15:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function config(el,isInit){return isInit?void 0:_mithril2.default.request({method:"GET",url:"http://localhost:3000"+ADMIN_ROOT+"api/read/"+filename()}).then(function(res){content(res.content)})}function save(e){e.preventDefault(),_mithril2.default.request({method:"POST",url:"http://localhost:3000"+ADMIN_ROOT+"api/write/",data:{filename:filename(),content:content()}}).then(function(response){console.log(response.message)})}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_malatium=require("malatium"),_actions=require("../actions"),filename=_mithril2.default.prop(""),content=_mithril2.default.prop(""),Edit=function(){function Edit(){_classCallCheck(this,Edit)}return _createClass(Edit,[{key:"controller",value:function(_ref){_ref.openFile,_ref.openFileToEdit;return filename(_mithril2.default.route.param("filename")),{filename:filename,content:content}}},{key:"view",value:function(_ref2){var filename=_ref2.filename,content=_ref2.content;return _mithril2.default("form#edit",_mithril2.default("h2",{config:config},"Editing: "+filename()),_mithril2.default("textarea",{oninput:_mithril2.default.withAttr("value",content),value:content()}),_mithril2.default("button",{onclick:save},"Save"))}}]),Edit}();exports.default=_malatium.connect(function(_ref3){var openFile=_ref3.openFile;return{openFile:openFile}},{},{openFileToEdit:_actions.openFileToEdit})(Edit)},{"../actions":13,malatium:2,mithril:3}],16:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),Footer=function(){function Footer(){_classCallCheck(this,Footer)}return _createClass(Footer,[{key:"view",value:function(){return _mithril2.default("footer",{},_mithril2.default.trust("&copy; 2016"))}}]),Footer}();exports.default=new Footer},{mithril:3}],17:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),Header=function(){function Header(){_classCallCheck(this,Header)}return _createClass(Header,[{key:"view",value:function(){return _mithril2.default("header",_mithril2.default("a#admin-home",{href:ADMIN_ROOT,config:_mithril2.default.route},"topiary"))}}]),Header}();exports.default=new Header},{mithril:3}],18:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),Loader=function(){function Loader(){_classCallCheck(this,Loader)}return _createClass(Loader,[{key:"view",value:function(){return _mithril2.default("div.loader","Loading...")}}]),Loader}();exports.default=new Loader},{mithril:3}],19:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_sideBar=require("./side-bar"),_sideBar2=_interopRequireDefault(_sideBar),_footer=require("./header-footer/footer"),_footer2=_interopRequireDefault(_footer),SideBarLayout=function(){function SideBarLayout(){_classCallCheck(this,SideBarLayout)}return _createClass(SideBarLayout,[{key:"view",value:function(ctrl,props,children){return _mithril2.default("div.push-right",_sideBar2.default,_mithril2.default("main",children),_footer2.default)}}]),SideBarLayout}();exports.default=new SideBarLayout},{"./header-footer/footer":16,"./side-bar":20,mithril:3}],20:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function navItems(items){return items.map(function(link,key){var href=link.uri;return _mithril2.default.component(navLink,{href:href,key:key},link.text)})}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();Object.defineProperty(exports,"__esModule",{value:!0});var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_malatium=require("malatium"),NavLink=function(){function NavLink(){_classCallCheck(this,NavLink)}return _createClass(NavLink,[{key:"controller",value:function(_ref){var href=_ref.href;return{active:href===_mithril2.default.route(),config:_mithril2.default.route}}},{key:"view",value:function(_ref2,_ref3,children){var active=_ref2.active,config=_ref2.config,href=_ref3.href,key=_ref3.key;return active?_mithril2.default("li",{key:key},_mithril2.default("span",children)):_mithril2.default("li",{key:key},_mithril2.default("a",{href:href,config:config},children))}}]),NavLink}(),navLink=new NavLink,SideBar=function(){function SideBar(){_classCallCheck(this,SideBar)}return _createClass(SideBar,[{key:"view",value:function(ctrl,_ref4){var sideBar=_ref4.sideBar;return sideBar&&sideBar.length?_mithril2.default("nav",sideBar.map(function(group,key){return[_mithril2.default("h2",{key:key},group.name),_mithril2.default("ul",navItems(group.options))]})):_mithril2.default("nav",_mithril2.default(".loader","Loading"))}}]),SideBar}();exports.default=_malatium.connect(function(_ref5){var sideBar=_ref5.sideBar;return{sideBar:sideBar}})(SideBar)},{malatium:2,mithril:3}],21:[function(require){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_redux=require("redux"),_malatium=require("malatium"),_malatium2=_interopRequireDefault(_malatium),_routes=require("./routes"),_routes2=_interopRequireDefault(_routes),_reducers=require("./reducers"),reducers=_interopRequireWildcard(_reducers),_actions=require("./actions"),store=_redux.createStore(_redux.combineReducers(reducers));_mithril2.default.request({method:"GET",url:"http://localhost:3000"+ADMIN_ROOT+"api/side-bar"}).then(function(sideBar){store.dispatch(_actions.setSideBar(sideBar)),_malatium2.default.init(_mithril2.default,store).route(document.body,ADMIN_ROOT,_routes2.default,"pathname")})},{"./actions":13,"./reducers":22,"./routes":23,malatium:2,mithril:3,redux:5}],22:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.openFile=exports.sideBar=exports.application=void 0;{var _actions=require("../actions");exports.application=function(){var state=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],action=arguments[1];return console.log(action,state),state},exports.sideBar=function(){var state=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],action=arguments[1];switch(action.type){case _actions.SET_SIDE_BAR:return action.data}return state},exports.openFile=function(){var state=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],action=arguments[1];switch(action.type){case _actions.EDIT_FILE:var filename=action.filename,content=action.content;return{filename:filename,content:content}}return state}}},{"../actions":13}],23:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};Object.defineProperty(exports,"__esModule",{value:!0});var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_app=require("./containers/app"),_app2=_interopRequireDefault(_app),_sideBarLayout=require("./containers/side-bar-layout"),_sideBarLayout2=_interopRequireDefault(_sideBarLayout),_loader=require("./containers/loader"),_loader2=_interopRequireDefault(_loader),_edit=require("./containers/edit"),_edit2=_interopRequireDefault(_edit),Login={view:function(){return _mithril2.default("p","Login... (TODO)")}},adminLocation=ADMIN_ROOT.replace(/\/+$/,""),admin={};admin[adminLocation+"/login"]=Login,admin[adminLocation]={$container:_sideBarLayout2.default,"/edit/:filename":_edit2.default,"/loader":_loader2.default,"/":{view:function(){return _mithril2.default("p","home")}},$default:{view:function(){return _mithril2.default("p","404: page not found")}}};var routes=_extends({$container:_app2.default},admin);exports.default=routes},{"./containers/app":14,"./containers/edit":15,"./containers/loader":18,"./containers/side-bar-layout":19,mithril:3}]},{},[21]);